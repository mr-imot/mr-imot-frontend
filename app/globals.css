@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import palette CSS variables */
@import '../styles/colors.css';

/* Etched glass background sizing */
.etched-glass-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--fixed-vh, 100vh);
  overflow: hidden;
  pointer-events: none;
  z-index: -2;
}

/* Liquid Glass CTA Animations */
@keyframes liquidFlow {
  0%, 100% {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.2) 25%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 75%, rgba(255, 255, 255, 0.1) 100%);
  }
  25% {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.25) 25%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.1) 75%, rgba(255, 255, 255, 0.15) 100%);
  }
  50% {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.3) 25%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.15) 75%, rgba(255, 255, 255, 0.2) 100%);
  }
  75% {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.25) 25%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.1) 75%, rgba(255, 255, 255, 0.15) 100%);
  }
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  50% {
    transform: translateX(100%);
  }
  100% {
    transform: translateX(100%);
  }
}

/* CSS Fallback Animation for Paper Shaders Background */
@keyframes subtleShift {
  0%, 100% { 
    transform: translate(0, 0); 
  }
  25% { 
    transform: translate(1px, -1px); 
  }
  50% { 
    transform: translate(-1px, 1px); 
  }
  75% { 
    transform: translate(1px, 1px); 
  }
}

/* Mr. Imot Brand Colors - CSS Custom Properties */
:root {
  /* Primary Grays */
  --brand-gray-900: #111827;
  --brand-gray-800: #1f2937;
  --brand-gray-700: #374151;
  --brand-gray-600: #4b5563;
  --brand-gray-500: #6b7280;
  --brand-gray-400: #9ca3af;
  --brand-gray-300: #d1d5db;
  --brand-gray-200: #e5e7eb;
  --brand-gray-100: #f3f4f6;
  --brand-gray-50: #f9fafb;
  
  /* Glass Background Tones */
  --brand-glass-primary: #e8edf0;
  --brand-glass-light: #f0f4f6;
  --brand-glass-lighter: #eaf0f2;
  
  /* Navigation Colors */
  --brand-nav-text: rgba(255, 255, 255, 0.8);
  --brand-nav-text-hover: rgba(255, 255, 255, 1);
  --brand-nav-bg-hover: rgba(255, 255, 255, 0.1);
  --brand-nav-logo-bg: rgba(255, 255, 255, 0.1);
  --brand-nav-logo-bg-hover: rgba(255, 255, 255, 0.2);
  --brand-nav-logo-border: rgba(255, 255, 255, 0.2);
  
  /* Button Colors */
  --brand-btn-primary-bg: #14213d; /* Oxford Blue */
  --brand-btn-primary-bg-hover: #0c1425; /* Oxford darker */
  --brand-btn-primary-text: #ffffff;
  --brand-btn-secondary-bg: transparent;
  --brand-btn-secondary-border: #374151;
  --brand-btn-secondary-text: #14213d;
  --brand-btn-secondary-bg-hover: #14213d;
  --brand-btn-secondary-text-hover: #ffffff;
  --brand-btn-login-bg: #ffffff;
  --brand-btn-login-bg-hover: rgba(255, 255, 255, 0.9);
  --brand-btn-login-text: #000000;
  
  /* Text Hierarchy */
  --brand-text-primary: #111827;
  --brand-text-secondary: #1f2937;
  --brand-text-tertiary: #374151;
  --brand-text-muted: #6b7280;
  --brand-text-light: rgba(255, 255, 255, 0.8);
  
  /* Badge/Tag Colors */
  --brand-badge-bg: rgba(243, 244, 246, 0.9);
  --brand-badge-border: #e5e7eb;
  --brand-badge-text: #374151;
  
  /* Status Colors */
  --brand-success: #10b981;
  --brand-warning: #f59e0b;
  --brand-error: #ef4444;
  --brand-info: #3b82f6;
  
  /* Effects */
  --brand-white-overlay-10: rgba(255, 255, 255, 0.1);
  --brand-white-overlay-20: rgba(255, 255, 255, 0.2);
  --brand-white-overlay-90: rgba(255, 255, 255, 0.9);
}

.instrument {
  font-family: var(--font-instrument-serif), serif;
}

/* Enhanced Gooey Effects */
.gooey-nav {
  filter: url(#gooey-filter);
}

.gooey-nav a {
  transition: all 0.3s ease;
}

.gooey-nav a:hover {
  transform: scale(1.1);
}

/* Navigation items that blob together on hover */
.nav-blob {
  position: relative;
  display: inline-block;
  transition: all 0.3s ease;
}

.nav-blob::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: all 0.3s ease;
  z-index: -1;
}

.nav-blob:hover::before {
  width: 120%;
  height: 200%;
  border-radius: 50px;
}

/* Enhanced button morphing */
.morph-button {
  filter: url(#gooey-filter);
  transition: all 0.4s cubic-bezier(0.23, 1, 0.320, 1);
}

.morph-button:hover {
  transform: scale(1.05);
}

/* Airbnb-style map price pills for AdvancedMarkerElement */
.map-price-pill {
  background: #ffffff;
  border-radius: 12px;
  padding: 6px 10px;
  font-weight: 600;
  font-size: 13px;
  line-height: 1.125rem; /* 18px */
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  will-change: transform;
  user-select: none;
  border: 1px solid rgba(0, 0, 0, 0.08);
}

.map-price-pill:hover {
  transform: scale(1.06);
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.18);
  cursor: pointer;
}

.map-price-pill--active {
  outline: 2px solid var(--brand-gray-900);
  outline-offset: 2px;
}

.map-price-pill--cluster {
  background: var(--subtle);
  color: #ffffff;
  border-color: var(--subtle);
}

@layer base {
  :root {
    /* Brand design tokens - Mr. Imot with Oxford Blue primary */
    --brand: #264653;        /* Primary brand color (Charcoal) */
    --brand-ink: #ffffff;    /* Text on brand surfaces */
    --ink: #111111;          /* Primary text color */
    --subtle: #6B7280;       /* Secondary text color */
    --card: #ffffff;         /* Card background */
    --muted: #F4F5F7;        /* Muted background */
    --ring: rgba(17,24,39,.35); /* Focus ring color */
    --radius: 16px;          /* Base border radius */
    
    /* Shadows */
    --shadow-card: 0 8px 24px rgba(0,0,0,.08);
    --shadow-hover: 0 12px 28px rgba(0,0,0,.12);
    --shadow-focus: 0 0 0 3px var(--ring);
    
    /* Existing shadcn variables (updated to align) */
    --background: oklch(0.9900 0 0);
    --foreground: var(--ink);
    --card: oklch(1 0 0);
    --card-foreground: oklch(0 0 0);
    --popover: oklch(0.9900 0 0);
    --popover-foreground: oklch(0 0 0);
    --primary: var(--brand);
    --primary-foreground: #ffffff;
    --secondary: oklch(0.9400 0 0);
    --secondary-foreground: oklch(0 0 0);
    --muted: var(--muted);
    --muted-foreground: var(--subtle);
    --accent: #e9c46a;       /* Saffron */
    --accent-foreground: #000000;
    --destructive: oklch(0.6300 0.1900 23.0300);
    --destructive-foreground: oklch(1 0 0);
    --border: oklch(0.9200 0 0);
    --input: oklch(0.9400 0 0);
    --ring: var(--ring);
    --chart-1: oklch(0.8100 0.1700 75.3500);
    --chart-2: oklch(0.5500 0.2200 264.5300);
    --chart-3: oklch(0.7200 0 0);
    --chart-4: oklch(0.9200 0 0);
    --chart-5: oklch(0.5600 0 0);
    --sidebar: oklch(0.9900 0 0);
    --sidebar-foreground: oklch(0 0 0);
    --sidebar-primary: oklch(0 0 0);
    --sidebar-primary-foreground: oklch(1 0 0);
    --sidebar-accent: oklch(0.9400 0 0);
    --sidebar-accent-foreground: oklch(0 0 0);
    --sidebar-border: oklch(0.9400 0 0);
    --sidebar-ring: oklch(0 0 0);
    --font-sans: var(--font-inter), system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    --font-serif: var(--font-lora), Georgia, serif;
    --font-mono: Geist Mono, monospace;
    --radius: 0.5rem;
    --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.09);
    --shadow-xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.09);
    --shadow-sm: 0px 1px 2px 0px hsl(0 0% 0% / 0.18), 0px 1px 2px -1px hsl(0 0% 0% / 0.18);
    --shadow: 0px 1px 2px 0px hsl(0 0% 0% / 0.18), 0px 1px 2px -1px hsl(0 0% 0% / 0.18);
    --shadow-md: 0px 1px 2px 0px hsl(0 0% 0% / 0.18), 0px 2px 4px -1px hsl(0 0% 0% / 0.18);
    --shadow-lg: 0px 1px 2px 0px hsl(0 0% 0% / 0.18), 0px 4px 6px -1px hsl(0 0% 0% / 0.18);
    --shadow-xl: 0px 1px 2px 0px hsl(0 0% 0% / 0.18), 0px 8px 10px -1px hsl(0 0% 0% / 0.18);
    --shadow-2xl: 0px 1px 2px 0px hsl(0 0% 0% / 0.45);
    --tracking-normal: 0em;
    --spacing: 0.25rem;
    --shadow-color: hsl(0 0% 0%);
    --shadow-opacity: 0.18;
    --shadow-blur: 2px;
    --shadow-spread: 0px;
    --shadow-offset-x: 0px;
    --shadow-offset-y: 1px;
    --letter-spacing: 0em;
  }

  .theme {
    --font-sans: Geist, sans-serif;
    --font-mono: Geist Mono, monospace;
    --font-serif: Georgia, serif;
    --radius: 0.5rem;
    --tracking-tighter: calc(var(--tracking-normal) - 0.05em);
    --tracking-tight: calc(var(--tracking-normal) - 0.025em);
    --tracking-wide: calc(var(--tracking-normal) + 0.025em);
    --tracking-wider: calc(var(--tracking-normal) + 0.05em);
    --tracking-widest: calc(var(--tracking-normal) + 0.1em);
  }
  body {
    letter-spacing: var(--tracking-normal);
  }
}

@layer base {
  html {
    scroll-behavior: smooth;
  }
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans);
    font-feature-settings: "calt" 1, "kern" 1, "liga" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    user-select: text; /* Allow text selection by default */
    line-height: 1.5; /* Ensure adequate line height for descenders */
    overflow-x: hidden; /* Prevent horizontal overflow but allow vertical */
  }
}

/* Utility class to disable text selection for UI chrome */
.noselect {
  user-select: none;
}

/* Global text rendering fixes to prevent descender clipping */
h1, h2, h3, h4, h5, h6, p, span, div, section, article {
  line-height: 1.4; /* Ensure adequate line height for descenders */
  overflow: visible; /* Prevent text clipping */
}

/* Specific fix for gradient text elements */
.headline-gradient, .bg-clip-text {
  padding-bottom: 0.1em; /* Add small padding to prevent descender clipping */
  overflow: visible;
}

/* Override for hero title specifically to ensure balanced line spacing (responsive) */
.hero-title,
.hero-title *,
.hero-title br {
  line-height: 1.0 !important; /* mobile-first: comfortable spacing for readability */
}

@media (min-width: 640px) { /* sm */
  .hero-title,
  .hero-title *,
  .hero-title br {
    line-height: 0.98 !important;
  }
}

@media (min-width: 768px) { /* md */
  .hero-title,
  .hero-title *,
  .hero-title br {
    line-height: 0.95 !important;
  }
}

@media (min-width: 1024px) { /* lg+ */
  .hero-title,
  .hero-title *,
  .hero-title br {
    line-height: 0.92 !important;
  }
}

/* Custom scrollbar styles for professional look */
@layer utilities {
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #d1d5db #f3f4f6;
  }
  
  .scrollbar-thumb-gray-300::-webkit-scrollbar-thumb {
    background-color: #d1d5db;
    border-radius: 6px;
  }
  
  .scrollbar-track-gray-100::-webkit-scrollbar-track {
    background-color: #f3f4f6;
    border-radius: 6px;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 0.5rem; /* 8px */
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    background: #f3f4f6;
    border-radius: 6px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: #d1d5db;
    border-radius: 6px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: #9ca3af;
  }
}

/* Focus-visible ring states (accessibility) */
@layer utilities {
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2;
  }
}

/* Premium shared components & utilities */
@layer components {
  /* Section wrapper for consistent spacing */
  .section {
    @apply relative mx-auto max-w-7xl px-4 sm:px-6 md:px-8 py-16 sm:py-20 md:py-24;
  }

  /* Glass card used across homepage */
  .card {
    @apply bg-white/80 backdrop-blur-sm rounded-2xl border border-white/50 shadow-lg hover:shadow-xl transition-shadow;
  }

  /* Enhanced glass header background */
  .header-glass {
    @apply sticky top-0 z-50 bg-white/30 supports-[backdrop-filter]:bg-white/20 backdrop-blur-lg border-b border-white/40;
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  /* Gradient headline text helper */
.headline-gradient {
  @apply bg-clip-text text-transparent bg-gradient-to-r from-charcoal-200 via-charcoal-600 to-charcoal-800;
  padding-bottom: 0.06em; /* Small padding to prevent clipping without affecting leading */
}

  /* Button shine sweep */
  .btn-shine {
    position: relative;
    overflow: hidden;
  }
  .btn-shine::after {
    content: "";
    position: absolute;
    inset: 0;
    transform: translateX(-120%);
    background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,.35) 50%, transparent 100%);
    transition: transform .8s ease;
  }
  .btn-shine:hover::after { transform: translateX(120%); }

  /* Edge fade helpers for horizontal scroll areas */
  .edge-fade-l {
    -webkit-mask-image: linear-gradient(to right, transparent, #000 24%);
            mask-image: linear-gradient(to right, transparent, #000 24%);
  }
  .edge-fade-r {
    -webkit-mask-image: linear-gradient(to left, transparent, #000 24%);
            mask-image: linear-gradient(to left, transparent, #000 24%);
  }
}

/* Line clamp utility for text truncation */
@layer utilities {
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* Animation utilities for smooth transitions */
@layer utilities {
  .animate-in {
    animation-fill-mode: both;
  }
  
  .fade-in-0 {
    animation-name: fadeIn;
  }
  
  .slide-in-from-bottom-4 {
    animation-name: slideInFromBottom;
  }
  
  .duration-500 {
    animation-duration: 500ms;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideInFromBottom {
  from {
    transform: translateY(1rem);
  }
  to {
    transform: translateY(0);
  }
}

/* Property Map Card Animations */
@keyframes cardSlideIn {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes cardSlideOut {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(-10px) scale(0.98);
  }
}

/* Property Map Card Styles */
.property-map-card {
  animation: cardSlideIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  backdrop-filter: blur(8px);
  box-shadow: 
    0 25px 50px rgba(0, 0, 0, 0.25),
    0 0 0 1px rgba(255, 255, 255, 0.05);
}

.property-map-card.closing {
  animation: cardSlideOut 0.2s cubic-bezier(0.55, 0.055, 0.675, 0.19);
}

.property-card-image {
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

.property-card-image:hover {
  transform: scale(1.08);
}

/* Enhanced hover effects for interactive elements */
.property-card-close-btn {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  backdrop-filter: blur(8px);
}

.property-card-close-btn:hover {
  transform: scale(1.1);
  background: rgba(0, 0, 0, 0.6);
}

.property-card-rating-badge {
  transition: all 0.2s ease;
}

.property-card-rating-badge:hover {
  transform: scale(1.05);
  background: rgba(255, 255, 255, 0.95);
}

/* Header Fade Overlay for ElegantBlueprintBackground */
.header-fade-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 12.5rem; /* 200px - Adjust height to be taller than your header */
  z-index: 1;

  /* Gradient from 60% black to transparent for header readability */
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.6), transparent);

  /* Makes the overlay non-interactive so you can click links behind it */
  pointer-events: none;
}

/* iOS Safe Area Handling - Preserve Paper Shader Background */
@supports (padding: max(0px)) {
  body {
    /* Content respects safe areas - background fills everything */
    padding-top: env(safe-area-inset-top);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-bottom: env(safe-area-inset-bottom);
    margin: 0;
    min-height: 100vh;
  }
  
  /* Fix header positioning with safe areas */
  header {
    padding-top: max(env(safe-area-inset-top), 1rem);
  }
  
  /* Fix footer positioning with safe areas */
  footer {
    padding-bottom: max(env(safe-area-inset-bottom), 1rem);
  }
}

/* Fallback for browsers that don't support safe area insets */
@supports not (padding: max(0px)) {
  html {
    padding-top: 0;
    padding-bottom: 0;
  }
}



/* Background fills the entire screen naturally */
.elegant-blueprint-background {
  /* No padding, no transforms - let it fill naturally */
  /* The viewport-fit=cover meta tag handles edge-to-edge rendering */
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh; /* Use 100vh for consistent viewport coverage */
  min-height: 100vh; /* Ensure it never gets smaller than viewport */
  z-index: -2;
}

/* ===== CURSOR AND CARET MANAGEMENT ===== */
/* Disable unwanted caret animations */
@keyframes caret-blink {
  0%, 100% { display: none !important; }
}

.animate-caret-blink {
  display: none !important;
}

/* Disable pseudo-element animations that might create visual artifacts */
*::after, *::before {
  animation: none !important;
}

/* Force instant rendering for listing cards - no animations whatsoever */
.grid a[href^="/listing"],
.grid article {
  animation: none !important;
  transition: none !important;
  transform: none !important;
  will-change: auto !important;
}

/* Text cursor and caret for input fields only */
input[type="text"], 
input[type="email"], 
input[type="password"], 
input[type="search"], 
input[type="tel"],
input[type="url"],
input[type="number"],
input[type="date"],
input[type="time"],
input[type="datetime-local"],
input[type="month"],
input[type="week"],
textarea,
[contenteditable="true"],
[contenteditable],
[role="textbox"],
[role="searchbox"],
[role="combobox"],
[role="spinbutton"] {
  cursor: text !important;
  caret-color: auto !important;
}

/* Pointer cursor for interactive elements */
button, 
a, 
[role="button"], 
[role="link"],
[role="menuitem"],
[role="tab"],
[role="option"],
[onclick],
.clickable,
[data-clickable="true"] {
  cursor: pointer !important;
}

/* Default cursor for text elements (no caret) - REMOVED: Was causing cursor issues */
/* h1, h2, h3, h4, h5, h6, p, span, label, div, section, article, aside, header, footer, nav {
  cursor: default !important;
  caret-color: transparent !important;
  user-select: none !important;
} */

/* Images and media should never show text cursor - but allow pointer on interactive elements */
img:not(.cursor-pointer):not([class*="cursor-"]), 
video:not(.cursor-pointer):not([class*="cursor-"]), 
canvas:not(.cursor-pointer):not([class*="cursor-"]), 
svg:not(.cursor-pointer):not([class*="cursor-"]), 
picture:not(.cursor-pointer):not([class*="cursor-"]) {
  cursor: default !important;
  caret-color: transparent !important;
  user-select: none !important;
}

/* Ensure media inside anchors and buttons show hand pointer */
a img, a svg, button img, button svg, [role="button"] img, [role="button"] svg {
  cursor: pointer !important;
}

/* Allow pointer cursor on interactive media elements */
img.cursor-pointer, 
svg.cursor-pointer, 
canvas.cursor-pointer, 
video.cursor-pointer, 
picture.cursor-pointer {
  cursor: pointer !important;
  user-select: none !important;
}

/* Force pointer cursor on any element with cursor-pointer class */
.cursor-pointer {
  cursor: pointer !important;
}

/* Force pointer cursor on any element with cursor-pointer class - highest specificity */
*[class*="cursor-pointer"] {
  cursor: pointer !important;
}

/* Force grab cursor on any element with cursor-grab class */
.cursor-grab {
  cursor: grab !important;
}

/* Force grabbing cursor on any element with cursor-grabbing class */
.cursor-grabbing {
  cursor: grabbing !important;
}

/* Next.js Image component specific fixes */
img[class*="cursor-pointer"],
img.cursor-pointer {
  cursor: pointer !important;
}

/* Ensure SVG elements with cursor-pointer work */
svg[class*="cursor-pointer"],
svg.cursor-pointer {
  cursor: pointer !important;
}

/* Buttons and interactive elements */
button, 
[role="button"],
[data-clickable="true"],
.clickable,
.cursor-pointer,
a, a * {
  cursor: pointer !important;
}

/* Override for text inside clickable elements */
.clickable h1, 
.clickable h2, 
.clickable h3, 
.clickable h4, 
.clickable h5, 
.clickable h6, 
.clickable p, 
.clickable span, 
.clickable label {
  cursor: pointer !important;
}

/* Ensure all child elements inherit pointer cursor from clickable parents */
.cursor-pointer *,
.clickable *,
button *,
[role="button"] *,
[data-clickable="true"] * {
  cursor: inherit !important;
}

/* Disabled elements */
button:disabled,
input:disabled,
textarea:disabled,
[aria-disabled="true"],
.disabled {
  cursor: not-allowed !important;
}

/* Override Tailwind cursor classes - REMOVED: Was breaking Tailwind cursor utilities */
/* .cursor-default,
.cursor-auto,
.cursor-text,
.cursor-not-allowed,
.cursor-wait,
.cursor-help,
.cursor-move,
.cursor-grab,
.cursor-grabbing {
  cursor: inherit !important;
} */
/* Removed .cursor-pointer from inherit rule to allow clickable elements to work */

/* Allow text selection and text cursor for actual input elements */
input[type="text"],
input[type="email"], 
input[type="password"],
input[type="search"],
input[type="url"],
input[type="tel"],
input[type="number"],
textarea,
[contenteditable="true"],
[role="textbox"],
[role="searchbox"],
[role="combobox"],
[role="spinbutton"] {
  cursor: text !important;
  caret-color: auto !important;
  user-select: text !important;
}

/* Allow text selection for actual text content when user needs to copy */
.selectable-text,
[data-selectable="true"] {
  cursor: text !important;
  user-select: text !important;
  caret-color: transparent !important; /* Still no blinking cursor, but allow selection */
}

/* Google Maps specific cursor fixes */
.gm-style * {
  cursor: inherit !important;
}

.gm-style .gm-style-iw-c {
  cursor: pointer !important;
}

.gm-style .gm-style-iw-d {
  cursor: pointer !important;
}

/* Map controls should always be pointer */
.gm-control-active,
.gm-fullscreen-control,
.gm-zoom-control {
  cursor: pointer !important;
}

.gm-control-active *,
.gm-fullscreen-control *,
.gm-zoom-control * {
  cursor: pointer !important;
}

/* Map markers should always be pointer */
.map-marker-icon,
.map-price-pill,
.map-price-pill--cluster {
  cursor: pointer !important;
}

.map-marker-icon *,
.map-price-pill *,
.map-price-pill--cluster * {
  cursor: pointer !important;
}

/* ===== HERO SECTION: PERMANENT, DEVICE-AGNOSTIC LAYOUT ===== */
/* Default hero height uses viewport height for consistent sizing */
.hero-section {
  position: relative;
  overflow: visible; /* Ensure text descenders are not clipped */
  height: calc(100vh - var(--header-height, 0px));
}

/* Prefer modern dynamic viewport units when available */
@supports (height: 100dvh) {
  .hero-section {
    height: calc(100dvh - var(--header-height, 0px));
    overflow: visible; /* Ensure text descenders are not clipped */
  }
}

/* Lock hero height after initial load to prevent re-rendering */
.hero-height-locked .hero-section {
  /* When locked on mobile, use fixed innerHeight captured via JS */
  height: calc(var(--fixed-vh, 100vh) - var(--header-height, 0px)) !important;
}

@supports (height: 100dvh) {
  .hero-height-locked .hero-section {
    height: calc(var(--fixed-vh, 100dvh) - var(--header-height, 0px)) !important;
  }
}

/* On mobile, use fixed height to prevent address bar resize issues */
@media (max-width: 768px) {
  .hero-height-locked .hero-section {
    height: calc(var(--fixed-vh, 100vh) - var(--header-height, 0px)) !important;
  }
}

/* Prevent hero text and buttons from changing when scrolling */
.hero-content {
  transform: translateZ(0);
  backface-visibility: hidden;
  will-change: auto;
}

.hero-content h1,
.hero-content h2,
.hero-content h3,
.hero-content p,
.hero-content span,
.hero-content button {
  transform: translateZ(0);
  backface-visibility: hidden;
  will-change: auto;
}

/* ===== LISTINGS MAP: PERMANENT, DEVICE-AGNOSTIC LAYOUT ===== */
.listings-map-container {
  /* Use JS-updated --vh as primary fallback to avoid mobile URL bar issues */
  height: calc(var(--vh, 1vh) * 100 - var(--header-height, 0px) - 4rem);
  position: relative;
}

/* Prefer modern dynamic viewport units when available */
@supports (height: 100dvh) {
  .listings-map-container {
    height: calc(100dvh - var(--header-height, 0px) - 4rem);
  }
}

/* Let the immediate container fill the section and center content robustly */
.hero-section > .container {
  height: 100%;
  display: grid;
  align-content: center;
  overflow: visible; /* Ensure text descenders are not clipped */
}

/* Internal grid spans full height so we can control vertical distribution */
.hero-grid {
  height: 100%;
  overflow: visible; /* Ensure text descenders are not clipped */
}

/* Left content column stacks elements and pushes CTA if needed */
.hero-content {
  display: flex;
  flex-direction: column;
  min-height: 0;
  overflow: visible; /* Ensure text descenders are not clipped */
}

.hero-cta {
  margin-top: auto;
}

/* Visual constraints to prevent media from pushing CTA below fold */
.hero-visual img {
  width: auto;
  height: auto;
  object-fit: contain;
}

/* Mobile first - conservative sizing */
.hero-visual img {
  max-height: clamp(160px, 32vh, 300px);
}

/* Tablet and up - slightly larger */
@media (min-width: 768px) {
  .hero-visual img {
    max-height: clamp(200px, 35vh, 400px);
  }
}

/* Desktop - much larger */
@media (min-width: 1024px) {
  .hero-visual img {
    max-height: clamp(250px, 40vh, 500px);
  }
}

/* Mobile-first responsive adjustments */
@media (max-width: 640px) {
  .hero-section > .container {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
  }
}

/* Low-height viewport compact modes to keep CTA visible */
@media (max-height: 820px) {
  .hero-title {
    font-size: clamp(1.75rem, 3.5vw, 3.25rem) !important;
  }
  .hero-content {
    padding-top: clamp(0.75rem, 3vh, 1.5rem) !important;
    padding-bottom: clamp(1rem, 4vh, 2rem) !important;
  }
  .hero-cta {
    margin-top: clamp(0.5rem, 2vh, 1rem) !important;
  }
}

@media (max-height: 700px) {
  .hero-title {
    font-size: clamp(1.5rem, 3vw, 2.75rem) !important;
  }
  .hero-content {
    padding-top: clamp(0.5rem, 2vh, 1rem) !important;
    padding-bottom: clamp(0.75rem, 3vh, 1.5rem) !important;
  }
  .hero-cta {
    margin-top: clamp(0.25rem, 1vh, 0.5rem) !important;
  }
  .hero-cta button {
    font-size: clamp(0.85rem, 1.6vw, 1rem) !important;
    padding: 0.6rem 1.25rem !important;
  }
}

/* Compact header pills on short heights */
@media (max-height: 700px) {
  .header-glass nav a {
    padding: 0.4rem 0.8rem;
    font-size: 0.85rem;
  }
  .header-glass .btn-shine {
    padding-inline: 0.75rem;
    font-size: 0.85rem;
  }
  .header-glass .logo-circle {
    width: 2.25rem;
    height: 2.25rem;
  }
}

/* Tablet adjustments */
@media (min-width: 641px) and (max-width: 1024px) {
  .hero-section > .container {
    padding-top: 1rem;
    padding-bottom: 1rem;
  }
}

/* Desktop and larger screens */
@media (min-width: 1025px) {
  .hero-section > .container {
    padding-top: 1.5rem;
    padding-bottom: 1.5rem;
  }
}

/* Ultra-wide screens */
@media (min-width: 1920px) {
  .hero-section > .container {
    padding-top: 2rem;
    padding-bottom: 2rem;
  }
}

/* Ensure inner areas don't exceed the section height */
.hero-section .grid {
  max-height: 100%;
  width: 100%;
}

/* Hamburger menu optimization for small screens */
@media (max-width: 768px) {
  .header-glass {
    padding: 0.75rem 1rem;
  }
}

@media (max-width: 640px) {
  .header-glass {
    padding: 0.75rem 1rem;
  }
  .header-glass .logo-circle {
    width: 2.5rem;
    height: 2.5rem;
  }
}