/* ===== GOOGLE MAPS AND LISTINGS MAP STYLES ===== */
/* Moved from globals.css - import only on listings pages */

/* Import map component styles (price pills, etc.) */
@import './components/map.css';

/* Google Maps specific cursor fixes */
.gm-style * {
  cursor: inherit !important;
}

.gm-style .gm-style-iw-c,
.gm-style .gm-style-iw-d {
  cursor: pointer !important;
}

/* Map controls */
.gm-control-active,
.gm-fullscreen-control,
.gm-zoom-control,
.gm-control-active *,
.gm-fullscreen-control *,
.gm-zoom-control * {
  cursor: pointer !important;
}

/* Map markers and price pills */
/* Note: .map-price-pill styles are defined in styles/components/map.css */
.map-marker-icon,
.map-price-pill,
.map-price-pill--cluster,
.map-marker-icon *,
.map-price-pill *,
.map-price-pill--cluster * {
  cursor: pointer !important;
}

/* Listings map container */
.listings-map-container {
  height: calc(var(--vh, 1vh) * 100 - var(--header-height, 0px) - 4rem);
  position: relative;
}

@supports (height: 100dvh) {
  .listings-map-container {
    height: calc(100dvh - var(--header-height, 0px) - 4rem);
  }
}

@media (max-width: 63.9375em) { /* 1023px */
  /* Optimize map performance on mobile */
  .mobile-map-container {
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    will-change: transform;
  }

  /* Style map marker icons - high contrast with strong shadows */
  .map-marker-icon {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer !important;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
    /* Strong shadow for contrast against map */
    filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.4)) drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3)) !important;
  }

  .map-marker-icon svg {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    transform-origin: center;
  }

  /* Default state */
  .map-marker-default {
    transform: scale(1) !important;
  }

  .map-marker-default svg {
    transform: scale(1) !important;
  }

  /* Hovered state - teal color with larger shadow and scale */
  .map-marker-hovered {
    transform: scale(1.15) !important;
    filter: drop-shadow(0 6px 12px rgba(13, 148, 136, 0.5)) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3)) !important;
    z-index: 500 !important;
  }

  .map-marker-hovered svg {
    transform: scale(1.1) !important;
  }

  /* Selected state - largest scale, strongest shadow */
  .map-marker-selected {
    transform: scale(1.2) !important;
    filter: drop-shadow(0 8px 16px rgba(13, 148, 136, 0.6)) drop-shadow(0 3px 6px rgba(0, 0, 0, 0.35)) !important;
    z-index: 999 !important;
  }

  .map-marker-selected svg {
    transform: scale(1.15) !important;
  }

  /* Smooth transitions for state changes */
  .map-marker-icon.map-marker-default {
    animation: markerStateChange 0.2s ease-out;
  }

  .map-marker-icon.map-marker-hovered {
    animation: markerHover 0.2s ease-out;
  }

  .map-marker-icon.map-marker-selected {
    animation: markerSelect 0.2s ease-out;
  }
}

@keyframes markerStateChange {
  0% {
    transform: scale(0.95);
    opacity: 0.8;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes markerHover {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1.15);
  }
}

@keyframes markerSelect {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.25);
  }
  100% {
    transform: scale(1.2);
  }
}
